<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ChromaCode</title>
  <link rel="icon"
    href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>âœ¨</text></svg>">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="highlight/styles/one-dark-pro.css">
</head>

<body>
  <main>
    <div class="card">
      <div class="card__header">
        <div class="card__dots">
          <span></span>
          <span></span>
          <span></span>
        </div>
        <input type="text" placeholder="untitled-1">
      </div>
      <pre class="language-auto"><code  data-gramm="false" data-gramm_editor="false" data-enable-grammarly="false" class="CODE_BOX language-javascript" contenteditable>module.exports = leftpad;

function leftpad(str, len, ch) {
  str = String(str);
  var i = -1;
        
  if (!ch && ch !== 0) ch = ' ';
        
    len = len - str.length;
        
    while (i++ < len) {
    str = ch + str;
    }
  return str;
}</code></pre>
    </div>
  </main>
  <aside>
    <div class="selection">
      <div class="wrap">
        <label for="language">Language</label>
        <select name="language" id="language">
          <option value="javascript">JavaScript</option>
          <option value="plaintext">Plain Text</option>
          <option value="bash">Bash</option>
          <option value="c">C</option>
          <option value="cpp">C++</option>
          <option value="csharp">C#</option>
          <option value="css">CSS</option>
          <option value="diff">Diff</option>
          <option value="go">Go</option>
          <option value="graphql">GraphQL</option>
          <option value="java">Java</option>
          <option value="json">JSON</option>
          <option value="kotlin">Kotlin</option>
          <option value="less">Less</option>
          <option value="lua">Lua</option>
          <option value="makefile">Makefile</option>
          <option value="markdown">Markdown</option>
          <option value="objectivec">Objective-C</option>
          <option value="php">PHP</option>
          <option value="python-repl">Python REPL</option>
          <option value="python">Python</option>
          <option value="r">R</option>
          <option value="ruby">Ruby</option>
          <option value="rust">Rust</option>
          <option value="scss">SCSS</option>
          <option value="shell">Shell</option>
          <option value="sql">SQL</option>
          <option value="swift">Swift</option>
          <option value="typescript">TypeScript</option>
          <option value="wasm">WebAssembly</option>
          <option value="xml">XML</option>
          <option value="yaml">YAML</option>
        </select>
      </div>
    </div>
  </aside>
  <script src="highlight/highlight.min.js"></script>

  <script>
    const codeElement = document.querySelector('.CODE_BOX');
    const languageSelect = document.querySelector('#language');

    codeElement.addEventListener('input', updateCode);
    languageSelect.addEventListener('change', updateCode);

    // Highlight the initial content of the code element
    updateCode();

    function updateCode() {
      // Remove the 'highlighted' attribute
      delete codeElement.dataset.highlighted;
      // Update the language class
      codeElement.className = `CODE_BOX hljs language-${languageSelect.value}`;
      // Highlight the code
      hljs.highlightBlock(codeElement);
    }
  </script>
</body>

</html>